// 클래스 수정사항


// 비밀번호 변경 메서드
    public boolean changePassword(String userId, String currentPassword, String newPassword, String confirmPassword) {
        PreparedStatement pstmt = null;
        ResultSet rs = null;

        try {
            // 현재 비밀번호 확인
            String checkPasswordQuery = "SELECT user_pw FROM user WHERE user_id = ?";

            pstmt = conn.prepareStatement(checkPasswordQuery);
            pstmt.setString(1, userId);
            rs = pstmt.executeQuery();

            if (rs.next()) {
                String storedPassword = rs.getString("user_pw");

                // 현재 비밀번호 일치 여부 확인
                if (storedPassword.equals(currentPassword)) {
                    // 새로운 비밀번호로 업데이트
                    String updatePasswordQuery = "UPDATE user SET user_pw = ? WHERE user_id = ?";

                    pstmt = conn.prepareStatement(updatePasswordQuery);
                    pstmt.setString(1, newPassword);
                    pstmt.setString(2, userId);

                    int rowsAffected = pstmt.executeUpdate();

                    // 비밀번호 업데이트 성공 여부 확인
                    return rowsAffected > 0;
                }
            }
        } catch (SQLException e) {
            e.printStackTrace();
        } finally {
            closeResources(rs, pstmt);
        }

        // 실패 시 false 반환
        return false;
    }

              <!-- 이부분에서 pstmt = conn.prepareStatement(updatePasswordQuery); 여기가 경고 떠서 수정을 해야할 것 같습니다 -->



// 비밀번호 변경 메서드    * 수정본
public boolean changePassword(String userId, String currentPassword, String newPassword, String confirmPassword) {
    PreparedStatement pstmt = null;
    ResultSet rs = null;

    try {
        // 현재 비밀번호 확인
        String checkPasswordQuery = "SELECT user_pw FROM user WHERE user_id = ?";

        pstmt = conn.prepareStatement(checkPasswordQuery);
        pstmt.setString(1, userId);
        rs = pstmt.executeQuery();

        if (rs.next()) {
            String storedPassword = rs.getString("user_pw");

            // 현재 비밀번호 일치 여부 확인
            if (storedPassword.equals(currentPassword)) {
                // 새로운 비밀번호로 업데이트
                String updatePasswordQuery = "UPDATE user SET user_pw = ? WHERE user_id = ?";

                // 새로운 PreparedStatement 객체 생성
                try (PreparedStatement updatePstmt = conn.prepareStatement(updatePasswordQuery)) {
                    updatePstmt.setString(1, newPassword);
                    updatePstmt.setString(2, userId);

                    int rowsAffected = updatePstmt.executeUpdate();

                    // 비밀번호 업데이트 성공 여부 확인
                    return rowsAffected > 0;
                }
            }
        }
    } catch (SQLException e) {
        e.printStackTrace();
    } finally {
        closeResources(rs, pstmt);
    }

    // 실패 시 false 반환
    return false;
}
